---
controller_templates:
  - name: build_execution_environments
    job_type: run
    inventory: config_as_code
    execution_environment: supported
    project: config_as_code
    playbook: playbooks/build_ee.yml
    credentials:
      - ah_admin_user_pass
      - root

  - name: ah_config
    job_type: run
    inventory: config_as_code
    execution_environment: supported
    project: config_as_code
    playbook: playbooks/hub_config.yml
    credentials:
      - ah_token_user

  - name: controller_config
    job_type: run
    inventory: config_as_code
    execution_environment: supported
    project: config_as_code
    playbook: playbooks/controller_config.yml
    credentials:
      - aap_admin
      - ah_token_user
      - vault

  - name: rhelconfigure
    job_type: run
    inventory: libvirt_inventory
    execution_environment: Default execution environment
    project: rhel-management
    playbook: rhelconfigure.yml
    ask_limit_on_launch: true
    credentials:
      - cr_rhel_ssh
      - cr_rhelconfigure_vault

  - name: rhelunregister
    job_type: run
    inventory: insights_inventory
    execution_environment: Default execution environment
    project: rhel-management
    playbook: rhelunregister.yml
    ask_limit_on_launch: true
    credentials:
      - cr_rhel_ssh

  - name: configure_fapolicyd
    job_type: run
    inventory: insights_inventory
    execution_environment: Default execution environment
    project: fapolicyd-config
    playbook: site.yml
    credentials:
      - cr_rhel_ssh
    # Limit below defined as an artificial way to avoid running this on RHEL 7 hosts
    limit: 'rhel[89]*'

  - name: rhel_harden_cis_l1
    job_type: run
    inventory: insights_inventory
    execution_environment: Default execution environment
    project: rhel-management
    playbook: hardening/rhel9-playbook-cis_server_l1.yml
    ask_limit_on_launch: true
    credentials:
      - cr_rhel_ssh
...